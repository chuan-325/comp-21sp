# hw 01

## 练习 1.1.2

编译器相对于解释器的优点是什么? 解释器相对于编译器的优点是什么?

### Solution

编译器相对于解释器的优点:

- 在将用户输入映射为输出的时候, 速度更快
- 编写好后只需要编译一次, 不像解释器每次都要重新进行解释, 而不能复用之前的运行信息

解释器相对于编译器的优点:

- 解释器会逐条执行源程序, 因此它的错误诊断效果通常比编译器更好
- 较之使用编译器的情况, 使用解释器的程序修改时更加灵活, 修改后无需重新编译
- 跨平台性比编译器更好, 因为编译器在不同的架构/系统下不同, 如果改变平台可能需要本地重新编译程序才能用, 而解释器不依赖平台, 程序可以直接运行

## 练习 1.1.3

在一个语言处理系统中, 编译器产生汇编语言而不是机器语言的好处是什么?

### Solution

1. 较之机器语言, 汇编语言更方便程序员进行调试;
2. 从源程序开始, 输出汇编语言比输出机器语言更容易.

## 练习 1.6.1

对下图中的块结构的 C 代码, 指出赋给 w, x, y 和 z 的值.

```c
int w, x, y, z;
int i = 4; int j = 5;
{   int j = 7;
    i = 6;
    w = i + j;
}
x = i + j;
{   int i = 8;
    y = i + j;
}
z = i + j;
```

### Solution

过程:

| Step | i, j (global) | i, j (local) | w, x, y, z             |
| ---- | ------------- | ------------ | ---------------------- |
| 1    |               |              |                        |
| 2    | i=4, j=5      |              |                        |
| 3    | i=4, j=5      | j=7          |                        |
| 4    | i=6, j=5      | j=7          |                        |
| 5-6  | i=6, j=5      | j=7          | w=13                   |
| 7    | i=6, j=5      |              | w=13, x=11             |
| 8    | i=6, j=5      | i=8          | w=13, x=11             |
| 9=10 | i=6, j=5      | i=8          | w=13, x=11, y=13       |
| 11   | i=6, j=5      | i=8          | w=13, x=11, y=13, z=11 |

结果:

```
w = 13;
x = 11;
y = 13;
z = 11;
```

## 练习 1.6.2

对下图中的块结构的 C 代码, 指出赋给 w, x, y 和 z 的值.

```c
int w, x, y, z;
int i = 3; int j = 4;
{   int i = 5;
    w = i + j;
}
x = i + j;
{   int j = 6;
    i = 7;
    y = i + j;
}
z = i + j;
```

### Solution

过程:

| Step | i, j (global) | i, j (local) | w, x, y, z           |
| ---- | ------------- | ------------ | -------------------- |
| 1    |               |              |                      |
| 2    | i=3, j=4      |              |                      |
| 3    | i=3, j=4      | i=5          |                      |
| 4-5  | i=3, j=4      | i=5          | w=9                  |
| 6    | i=3, j=4      |              | w=9, x=7             |
| 7    | i=3, j=4      | j=6          | w=9, x=7             |
| 8    | i=7, j=4      | j=6          | w=9, x=7             |
| 9-10 | i=7, j=4      | j=6          | w=9, x=7, y=13       |
| 11   | i=7, j=4      |              | w=9, x=7, y=13, z=11 |

结果:

```
w = 9;
x = 7;
y = 13;
z = 11;
```

## 练习 1.6.4

下面的 C 代码的打印结果是什么?

```c
#define a (x+1)
int x = 2;
void b() { x = a; printf("%d\n",x); }
void c() { int x = 1; printf("%d\n", a); }
void main() { b(); c(); }
```

### Solution

打印结果:

```
3
2
```
