# hw 03 - 01

## 练习 3.1.1

根据 3.1.2 节中的讨论, 将下面的 `C++` 程序划分成正确的词素序列:

```cpp
float limiteSquare(x) {
    float x;
    /* returns x-squared, but never more than 100 */
    return (x<=-10.0 || x>=10.0) ? 100:x*x;
}
```

哪些词素应该有相关联的词法值？应该具有什么值？

### Sol.

> 参考答案

```
<float, >
<id, 指向 limitedSquare 符号表项指针>
<(, >
<id, 指向 x 符号表项指针>
<), >
<{, >
<float, >
<id, 指向 x 符号表项指针>
<return, >
<(, >
<id, 指向 x 符号表项指针>
<op, '<='>
<num, -10.0>
<op, '>='>
<num, 10.0>
<), >
<op, '?'>
<num, 100>
<op, ':'>
<id, 指向 x 符号表项指针>
<op, '*'>
<id, 指向 x 符号表项指针>
<}, >
```

> 原始答案

分号和注释应该算作 `whitespace` 类型, 词素序列如下: (为方便浏览, 不写成词法单元 `<lexeme[,val]>` 的形式 )

| **词素**       | **词法值** ('-'意为无值)      |
| -------------- | ----------------------------- |
| `float`        | float                         |
| `limiteSquare` | limiteSquare 函数指针         |
| `(`            | -                             |
| `x`            | 指向符号表中 `x` 的条目的指针 |
| `)`            | -                             |
| `{`            | -                             |
| `float`        | float                         |
| `x`            | 指向符号表中 `x` 的条目的指针 |
| `return`       | return                        |
| `(`            | -                             |
| `x`            | 指向符号表中 `x` 的条目的指针 |
| `<=`           | -                             |
| `-10.0`        | -10.0                         |
| `\|\|`         |                               |
| `x`            | 指向符号表中 `x` 的条目的指针 |
| `>=`           | -                             |
| `10.0`         | 10.0                          |
| `)`            | -                             |
| `?`            | -                             |
| `100`          | 100                           |
| `:`            | -                             |
| `x`            | 指向符号表中 `x` 的条目的指针 |
| `*`            | -                             |
| `x`            | 指向符号表中 `x` 的条目的指针 |
| `}`            | -                             |

## 练习 3.3.2

试描述下列正则表达式定义的语言 (仅 1, 2, 5)

- (1) $a(a | b)^{*}a$
- (2) $((\epsilon| a)b^{*})^{*}$
- (5) $(aa|bb)^{*}((ab|ba)(aa|bb)^{*}(ab|ba)(aa|bb)^{*})^{*}$

### Sol.

> 批改提示: 注意字符串的 **长度** 和 **是否允许空串**!

| No. | 描述                                                                       |
| --- | -------------------------------------------------------------------------- |
| 1   | 以 $a$ 开头并以 $a$ 结尾的 **并至少包含两个字符的** 所有由 $a, b$ 构成的串 |
| 2   | 由 $a$ 和 $b$ 构成的串 (**可以是空串**)                                    |
| 5   | 由偶数个 $a$ 和偶数个 $b$ 构成的串 (**可以是空串**)                        |

## 练习 3.3.5

试写出下列语言的正则定义 (仅 1, 8, 9)

### Sol.

#### (1) 包含 5 个元音的所有小写字母串，这些串中的元音按顺序出现

```
s -> m*a(m|a)*e(m|e)*i(m|i)*o(m|o)*u(m|u)*
m -> [bcdfghjklmnpqrstvwxyz]
```

#### (8) 所有由 $a$ 和 $b$ 组成且不含子串 $abb$ 的串

`s -> b*(a+b?)*`

#### (9) 所有由 $a$ 和 $b$ 组成且不含子序列 $abb$ 的串

`s -> b*a*b?a*`
